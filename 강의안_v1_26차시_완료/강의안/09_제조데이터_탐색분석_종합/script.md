# [9차시] 제조 데이터 탐색 분석 종합 - 강사 스크립트

## 강의 정보
- **차시**: 9차시 (25-30분)
- **유형**: 이론 + 실습
- **구성**: 이론 10분 + 실습 15-20분
- **대상**: 비전공자, AI 입문자, 제조업 종사자

---

## 이론편 (10분)

### 도입 (2분)

#### 인사 및 Part II 마무리 [1분]

> 안녕하세요, 9차시를 시작하겠습니다.
>
> 오늘은 **Part II의 마지막 차시**입니다. 지금까지 배운 통계, 시각화, 전처리를 종합하여 **탐색적 데이터분석(EDA)**을 실습합니다.
>
> EDA는 모델링 전에 반드시 해야 하는 과정이에요. 데이터를 이해하지 않으면 좋은 모델을 만들 수 없거든요.

#### 학습목표 안내 [1분]

> 오늘 수업을 마치면 다음 세 가지를 할 수 있습니다.
>
> 첫째, EDA의 전체 흐름을 이해합니다.
> 둘째, 데이터에서 인사이트를 도출합니다.
> 셋째, 제조 데이터를 종합적으로 분석합니다.
>
> Part II 전체를 정리하는 시간이기도 합니다.

---

### 핵심 내용 (8분)

#### EDA란? [1.5분]

> **EDA**는 Exploratory Data Analysis, 탐색적 데이터분석입니다.
>
> 모델링 전에 데이터를 탐색하여 패턴, 이상치, 관계를 발견하는 과정이에요.
>
> "데이터와 대화한다"고 표현하기도 합니다. 데이터에게 질문하고 답을 찾는 거죠.
>
> EDA의 목적은 네 가지입니다.
> 1. 데이터 이해
> 2. 가설 수립
> 3. 모델링 방향 설정
> 4. 데이터 품질 확인

#### EDA 5단계 [2분]

> EDA는 체계적으로 접근해야 합니다. 5단계로 나눠볼게요.
>
> **1단계**: 데이터 로드 및 개요 파악. shape, info, describe로 첫인상을 파악합니다.
>
> **2단계**: 단변량 분석. 각 변수를 개별적으로 분석합니다. 히스토그램, 상자그림으로 분포와 이상치를 확인해요.
>
> **3단계**: 이변량 분석. 두 변수의 관계를 봅니다. 산점도, 상관계수, 그룹별 비교를 합니다.
>
> **4단계**: 다변량 분석. 여러 변수를 동시에 분석합니다. 피벗 테이블, 히트맵을 사용해요.
>
> **5단계**: 인사이트 정리. 발견한 패턴을 정리하고 가설을 수립합니다.

#### 좋은 인사이트의 특징 [1.5분]

> 인사이트를 도출할 때 중요한 건 **구체적이고 실행 가능**해야 한다는 겁니다.
>
> 나쁜 예를 들어볼게요. "불량률이 높다." 이건 너무 막연해요.
>
> 좋은 예는 이렇습니다. "라인 B의 오후 시간대 불량률이 평균 대비 2%p 높음. 온도 관리 강화 필요."
>
> 구체적인 숫자가 있고, 어디를 개선해야 하는지 명확하죠.
>
> 그리고 반드시 **데이터에 기반**해야 합니다. "아마 그럴 것 같다"가 아니라 "상관계수 0.42, p<0.05로 유의하다"처럼요.

#### EDA 체크리스트 [1.5분]

> 분석할 때 빠뜨리기 쉬운 항목들이 있어요. 체크리스트로 확인하세요.
>
> - 결측치 확인 및 처리 방안
> - 이상치 확인 및 처리 방안
> - 각 변수의 분포 확인
> - 타겟 변수와의 관계 확인
> - 변수 간 상관관계 확인
> - 시간적 패턴 확인 (시계열인 경우)
> - 그룹별 차이 확인
>
> 이걸 다 확인하면 웬만한 건 놓치지 않습니다.

#### Part II 복습 [1.5분]

> Part II에서 배운 내용을 정리하면:
>
> 4차시: 데이터 요약과 시각화, Matplotlib 사용법
> 5차시: 확률분포와 품질 검정, Z-score와 t-test
> 6차시: 상관분석과 예측의 기초, 상관계수와 회귀
> 7-8차시: 제조 데이터 전처리, 결측치, 이상치, 스케일링, 인코딩
> 9차시: EDA 종합, 전체 워크플로우
>
> 이 모든 게 오늘 실습에서 종합됩니다.

---

## 실습편 (15-20분)

### 실습 소개 [2분]

> 이제 실습 시간입니다. 오늘은 품질관리팀의 요청에 따라 불량률 분석을 해보겠습니다.
>
> **시나리오**입니다. 품질관리팀에서 요청이 왔어요.
> "최근 불량률이 증가하고 있습니다. 어떤 요인이 불량에 영향을 미치는지 분석해주세요."
>
> 데이터는 6개월 간 생산 데이터 1,000건입니다. 날짜, 라인, 시간대, 온도, 습도, 생산량, 불량수가 있어요.
>
> **실습 환경**을 확인해주세요.
>
> ```python
> import numpy as np
> import pandas as pd
> import matplotlib.pyplot as plt
> from scipy import stats
> ```

### 실습 1: 데이터 로드 및 개요 [2분]

> 첫 번째 실습입니다. 데이터의 첫인상을 파악해봅시다.
>
> ```python
> print(f"데이터 크기: {df.shape}")
> print(df.head())
> print(df.describe())
> print(df.isnull().sum())
> ```
>
> 1,000행, 8개 열이 있습니다. 결측치는 온도와 습도에 약 5% 있네요.
>
> 이상치도 확인해야 합니다. describe()에서 min, max가 이상하면 의심해보세요.

### 실습 2: 단변량 분석 [2분]

> 두 번째 실습입니다. 불량률의 분포를 확인해봅시다.
>
> ```python
> plt.hist(df['불량률']*100, bins=30, edgecolor='black')
> plt.axvline(df['불량률'].mean()*100, color='red', linestyle='--')
> plt.xlabel('불량률 (%)')
> plt.title('불량률 분포')
> plt.show()
> ```
>
> 대부분 1~3% 범위에 있고, 일부 높은 값이 보입니다. 이게 어디서 발생했는지 찾아봐야겠죠.

### 실습 3: 범주별 분석 [2분]

> 세 번째 실습입니다. 라인별, 시간대별로 불량률을 비교해봅시다.
>
> ```python
> line_defect = df.groupby('라인')['불량률'].mean() * 100
> print(line_defect)
>
> line_defect.plot(kind='bar', color='steelblue')
> plt.ylabel('불량률 (%)')
> plt.title('라인별 평균 불량률')
> plt.show()
> ```
>
> 라인 B가 눈에 띄게 높습니다. 시간대별로도 해보면 오후가 더 높을 거예요.

### 실습 4: 상관관계 분석 [2분]

> 네 번째 실습입니다. 온도와 불량률의 관계를 분석해봅시다.
>
> ```python
> plt.scatter(df['온도'], df['불량률']*100, alpha=0.3)
> plt.xlabel('온도 (°C)')
> plt.ylabel('불량률 (%)')
>
> r = df['온도'].corr(df['불량률'])
> print(f"상관계수: {r:.4f}")
> ```
>
> 양의 상관관계가 보입니다. 온도가 높을수록 불량률이 높아지는 경향이 있네요.

### 실습 5: 다변량 분석 [2분]

> 다섯 번째 실습입니다. 라인과 시간대를 함께 분석해봅시다.
>
> ```python
> pivot = df.pivot_table(
>     values='불량률',
>     index='라인',
>     columns='시간대',
>     aggfunc='mean'
> ) * 100
>
> print(pivot.round(2))
> ```
>
> 라인 B + 오후 조합이 가장 높습니다. 여기에 집중해서 원인을 찾아야겠네요.

### 실습 6: 통계적 검정 [2분]

> 여섯 번째 실습입니다. 라인 B의 불량률 차이가 통계적으로 유의한지 검정해봅시다.
>
> ```python
> from scipy import stats
>
> line_b = df[df['라인'] == 'B']['불량률']
> line_other = df[df['라인'] != 'B']['불량률']
>
> t_stat, p_value = stats.ttest_ind(line_b, line_other)
> print(f"p-value: {p_value:.6f}")
> ```
>
> p-value가 0.05보다 작으면 라인 B의 불량률이 통계적으로 유의미하게 다른 겁니다.

### 실습 7: 인사이트 정리 [2분]

> 일곱 번째 실습입니다. 분석 결과를 인사이트로 정리해봅시다.
>
> 주요 발견사항입니다.
>
> 첫째, **라인별 차이**. 라인 B 불량률이 평균 대비 약 X%p 높음. p < 0.05로 유의합니다.
>
> 둘째, **시간대별 차이**. 오후 불량률이 오전보다 약 X%p 높습니다.
>
> 셋째, **온도 영향**. 온도와 불량률의 상관계수가 양수. 85°C 이상에서 불량률 증가 경향이 있습니다.
>
> 이걸 바탕으로 권고사항을 도출합니다. "라인 B 집중 점검", "온도 모니터링 강화" 같은 거죠.

### 실습 8: 종합 대시보드 [2분]

> 마지막 실습입니다. 분석 결과를 한 화면에 정리한 대시보드를 만들어봅시다.
>
> ```python
> fig, axes = plt.subplots(2, 2, figsize=(12, 10))
> # 1. 불량률 분포
> # 2. 라인별 불량률
> # 3. 온도 vs 불량률
> # 4. 라인 x 시간대 히트맵
> plt.suptitle('제조 품질 분석 대시보드')
> plt.show()
> ```
>
> 이렇게 정리하면 경영진이나 현장 관리자에게 보고하기 좋습니다.

---

### 정리 (3분)

#### 핵심 요약 [1.5분]

> 오늘 배운 내용을 정리하겠습니다.
>
> **EDA 5단계**: 개요 파악 → 단변량 → 이변량 → 다변량 → 인사이트
>
> **좋은 인사이트**: 구체적이고, 실행 가능하고, 데이터에 기반해야 합니다.
>
> **체계적 접근**: 체크리스트를 활용하면 빠뜨리지 않습니다.
>
> 이게 Part II 전체의 종합입니다. 4~9차시에서 배운 통계, 시각화, 전처리가 모두 사용됐죠.

#### 다음 차시 예고 [1분]

> 다음 10차시부터 **Part III: 머신러닝**이 시작됩니다.
>
> 드디어 AI 모델을 직접 만들어봅니다!
>
> 10차시에서는 머신러닝 개요와 문제 유형을 배웁니다. 지도학습, 비지도학습, 분류, 회귀 같은 개념이에요.

#### 마무리 [0.5분]

> Part II 완료를 축하드립니다.
>
> 지금까지 배운 데이터 분석 능력이 머신러닝의 기초가 됩니다. 데이터를 잘 이해해야 좋은 모델을 만들 수 있거든요.
>
> 수고하셨습니다!

---

## 강의 노트

### 준비물
- PPT 슬라이드 (slides.md)
- 실습 코드 파일 (code.py)
- 제조 데이터 샘플 (코드에서 생성)

### 주의사항
- EDA는 정해진 순서가 아닌 유연한 탐색
- 인사이트는 구체적 + 실행 가능하게
- Part II 복습 시간 확보

### 예상 질문
1. "EDA에 정해진 순서가 있나요?"
   → 유연하게 접근하되 체크리스트는 있으면 좋음

2. "EDA 결과를 어떻게 보고하나요?"
   → Jupyter Notebook + 핵심 요약 슬라이드

3. "자동 EDA 도구가 있나요?"
   → pandas-profiling, sweetviz 등 있지만 직접 하는 게 이해에 도움

4. "실무에서 EDA에 얼마나 시간을 쓰나요?"
   → 전체 프로젝트의 30~50%. 모델링보다 오래 걸릴 수 있음
