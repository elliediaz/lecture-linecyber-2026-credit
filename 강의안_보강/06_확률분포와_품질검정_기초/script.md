# [6차시] 확률분포와 품질검정 기초 - 강사 스크립트

## 강의 정보
- **차시**: 6차시 (30분)
- **유형**: 이론 + 실습
- **구성**: 이론 15분 + 실습 15분
- **대상**: 비전공자, AI 입문자, 제조업 종사자

---

## 도입 (2분)

### 인사 및 지난 시간 복습 [1분]

> 안녕하세요, 6차시를 시작하겠습니다.
>
> 지난 시간에 기초 기술통계량과 시각화를 배웠습니다. 평균, 중앙값, 표준편차 같은 통계량과 히스토그램, 상자그림으로 데이터를 파악하는 방법을 익혔죠.
>
> 오늘은 한 단계 더 나아가서, 데이터가 **정상인지 이상인지** 판단하고, **두 그룹이 정말 다른지** 통계적으로 검증하는 방법을 배웁니다.

### 학습목표 안내 [1분]

> 오늘 수업을 마치면 다음 두 가지를 할 수 있습니다.
>
> 첫째, 정규분포의 68-95-99.7 규칙을 이해합니다.
> 둘째, Z-score를 활용해서 이상치를 탐지합니다.
>
> 이 두 가지가 제조 현장에서 품질 관리할 때 꼭 필요한 기초 내용입니다. 잘 따라와 주세요.

---

## Part 1: 정규분포의 개념과 68-95-99.7 규칙 (5분)

### 왜 확률분포를 알아야 하는가? [1분]

> 먼저, 왜 확률분포를 알아야 할까요?
>
> 제조 현장에서 이런 질문들 해보셨을 겁니다.
>
> "이 측정값이 정상 범위인가?"
> "두 라인의 품질 차이가 실제로 있는가?"
> "오늘 생산량이 이상하게 높은데, 정말 문제가 있는 건가?"
>
> 이런 질문에 **감이 아니라 데이터로** 답하려면 확률분포를 알아야 합니다.
> 확률분포는 데이터가 어떻게 흩어져 있는지 설명해주는 도구예요.

### 정규분포란? [1.5분]

> 가장 중요한 확률분포가 **정규분포**입니다.
>
> 모양이 **종 모양**이에요. 영어로 bell curve라고 하죠.
> 평균을 중심으로 좌우 대칭이고, 평균에서 멀어질수록 데이터가 적어집니다.
>
> 정규분포가 왜 중요하냐면, 대부분의 자연현상과 제조 데이터가 정규분포를 따르기 때문입니다.
>
> 생산량, 측정 오차, 품질 수치 대부분이 정규분포에 가깝습니다.
> 키, 몸무게, 시험 점수도 정규분포를 따르죠.
>
> 정규분포는 두 가지 값으로 완전히 정의됩니다.
> 평균 μ(뮤)는 분포의 중심을 나타내고, 표준편차 σ(시그마)는 퍼짐 정도를 나타냅니다.

### 68-95-99.7 규칙 [2.5분]

> 정규분포의 핵심은 **68-95-99.7 규칙**입니다.
> 이건 경험적 규칙(Empirical Rule)이라고도 부릅니다.
>
> 평균에서 표준편차 1개 범위(μ ± 1σ) 안에 **68%**의 데이터가 있습니다.
> 표준편차 2개 범위(μ ± 2σ) 안에는 **95%**가 있고요.
> 표준편차 3개 범위(μ ± 3σ) 안에는 **99.7%**가 있습니다.
>
> 이 말이 뭐냐면, **평균 ±3σ 밖에 있는 데이터는 0.3%도 안 된다**는 거예요.
> 1000개 중에 3개 정도밖에 안 되는 아주 희귀한 경우입니다.
>
> 그래서 이 범위를 벗어나면 **이상치**라고 의심할 수 있습니다.
>
> 실제 예를 들어볼게요.
> 어떤 공장의 일일 생산량이 평균 1,200개, 표준편차 50개라고 합시다.
>
> 68% 범위는 1,150~1,250개입니다. 이건 정상적인 변동이에요.
> 95% 범위는 1,100~1,300개입니다. 이 범위 밖이면 주의가 필요합니다.
> 99.7% 범위는 1,050~1,350개입니다. 이 범위 밖이면 이상치입니다.
>
> 만약 어느 날 생산량이 1,400개라면? 3σ를 넘으니까 뭔가 특별한 일이 있었다는 신호입니다.
> 좋은 의미일 수도 있고, 측정 오류일 수도 있죠. 어쨌든 확인이 필요합니다.

---

## Part 2: Z-score를 활용한 이상치 탐지 (5분)

### 이상치란? [1분]

> 이상치(Outlier)는 다른 데이터와 동떨어진 값을 말합니다.
>
> 제조업에서 이상치가 왜 중요하냐면, 이상치는 **문제의 신호**일 수 있기 때문입니다.
>
> 예를 들어:
> - 생산량이 갑자기 1,500개? → 특근이 있었나? 측정 오류인가?
> - 불량률이 갑자기 8%? → 원자재 불량? 설비 이상?
>
> 이상치를 빨리 발견하면 빠르게 대응할 수 있고, 손실을 최소화할 수 있습니다.

### Z-score 개념 [2분]

> 이상치를 탐지하는 핵심 도구가 **Z-score**입니다. 표준점수라고도 부릅니다.
>
> 계산 공식은 간단해요.
>
> Z = (관측값 - 평균) / 표준편차
>
> 무슨 의미냐면, "이 값이 평균에서 표준편차 몇 개만큼 떨어져 있는가"를 나타냅니다.
>
> Z가 0이면 평균과 같은 값이에요.
> Z가 1이면 평균에서 1σ 떨어진 값, 상위 16% 정도에 해당합니다.
> Z가 2면 평균에서 2σ 떨어진 값, 상위 2.5% 정도입니다.
> Z가 3이면 상위 0.15%... 아주 극단적인 값이죠.
>
> 실무에서는 보통 **|Z| > 2면 이상치 의심**, **|Z| > 3이면 이상치 확정**으로 판단합니다.
> 어떤 기준을 쓸지는 상황에 따라 다르지만, 2~3 사이가 일반적입니다.

### Z-score 계산 예시 [2분]

> 예를 들어볼게요.
>
> 일주일간 생산량이 [1200, 1180, 1210, 1195, 1400, 1205, 1190]이라고 합시다.
>
> 평균을 계산하면 약 1,226개, 표준편차는 약 71개입니다.
>
> 각 날짜의 Z-score를 계산해보면:
> - 월요일 1200개: Z = (1200-1226)/71 = -0.36 → 정상
> - 금요일 1400개: Z = (1400-1226)/71 = +2.46 → 이상치!
>
> 금요일 생산량만 Z-score가 2를 넘습니다.
> 실제 현장이라면 "금요일에 무슨 일이 있었나?" 조사해봐야 합니다.
>
> Python에서는 NumPy로 한 줄에 계산할 수 있어요.
> `z_scores = (data - np.mean(data)) / np.std(data)`
> 벡터 연산이라서 전체 데이터를 한번에 처리합니다.

---

## 실습편 (15분)

### 실습 소개 [1분]

> 이제 실습 시간입니다.
>
> 오늘 배운 두 가지를 직접 해볼 거예요.
> 1. 정규분포를 시각화하고 68-95-99.7 규칙 확인
> 2. Z-score로 이상치 탐지
>
> 먼저 실습 환경을 확인해주세요.
>
> ```python
> import numpy as np
> import pandas as pd
> import matplotlib.pyplot as plt
> from scipy import stats
> ```
>
> scipy는 통계 분석에 필요한 라이브러리예요.
> 설치 안 됐으면 `pip install scipy`로 설치해주세요.

### 실습 1: 정규분포 시각화 [3분]

> 첫 번째 실습입니다. 정규분포 데이터를 만들고 히스토그램으로 확인해봅시다.
>
> ```python
> np.random.seed(42)
> production = np.random.normal(1200, 50, 1000)
> ```
>
> `np.random.normal(평균, 표준편차, 개수)`로 정규분포 데이터를 만들 수 있어요.
> 평균 1200, 표준편차 50인 데이터 1000개를 생성했습니다.
>
> 히스토그램을 그리고 평균선과 ±1σ 선을 추가해보세요.
> 종 모양이 잘 보이시죠? 평균 근처에 데이터가 집중되어 있습니다.

### 실습 2: 68-95-99.7 검증 [3분]

> 두 번째 실습입니다. 실제로 68-95-99.7 규칙이 맞는지 확인해봅시다.
>
> 각 범위에 몇 퍼센트의 데이터가 있는지 계산합니다.
>
> 결과가 68%, 95%, 99.7%에 가깝게 나올 거예요.
> 완전히 똑같지는 않아요. 표본이니까 약간의 오차는 있습니다.
> 하지만 충분히 가까운 값이 나오면 정규분포임을 확인할 수 있습니다.

### 실습 3: Z-score 이상치 탐지 [4분]

> 세 번째 실습입니다. 일주일 생산 데이터에서 이상치를 찾아봅시다.
>
> 데이터에 일부러 이상치를 하나 넣어뒀어요. 금요일 1420개입니다.
>
> Z-score를 계산하고 각 요일의 결과를 출력해보세요.
>
> 금요일만 Z-score가 2를 넘을 겁니다. 이상치로 탐지되었죠.
>
> 실제 현장이라면 이 결과를 보고 "금요일에 무슨 일이 있었나?" 확인해야 합니다.
> 좋은 원인(효율 개선)일 수도 있고, 나쁜 원인(측정 오류)일 수도 있으니까요.

### 실습 4: 이상치 시각화 [4분]

> 네 번째 실습입니다. 이상치를 빨간색으로 표시해봅시다.
>
> 막대 그래프에서 이상치만 빨간색으로 표시하면 한눈에 어느 날이 문제인지 알 수 있어요.
>
> 평균선(초록)과 ±2σ선(주황)도 같이 그리면 기준이 명확해집니다.
>
> 이렇게 시각화하면 품질 관리 보고서를 만들 때 효과적으로 활용할 수 있습니다.

---

## 정리 및 마무리 (3분)

### 핵심 요약 [1.5분]

> 오늘 배운 내용을 정리하겠습니다.
>
> **정규분포**는 종 모양의 대칭 분포입니다.
> 68-95-99.7 규칙으로 데이터 분포를 파악할 수 있어요.
> 평균 ±3σ 밖이면 이상치입니다.
>
> **Z-score**는 (값 - 평균) / 표준편차로 계산합니다.
> 값이 평균에서 얼마나 떨어져 있는지 나타내요.
> |Z| > 2면 이상치를 의심, |Z| > 3이면 확정입니다.

### 다음 차시 예고 [1분]

> 다음 7차시에서는 **통계 검정 실습**을 배웁니다.
>
> t-검정으로 두 그룹의 평균을 비교하고,
> 카이제곱 검정, ANOVA 같은 다양한 검정 방법을 알아봅니다.
>
> 오늘 배운 정규분포와 Z-score 개념이 기초가 되니까,
> 꼭 복습하고 오세요.

### 마무리 인사 [0.5분]

> 오늘 확률분포와 이상치 탐지의 기초를 배웠습니다.
>
> 이제 "이 데이터가 정상인가?", "이상치인가?"라는 질문에
> 데이터로 답할 수 있습니다.
>
> 수고하셨습니다. 다음 시간에 뵙겠습니다!

---

## 강의 노트

### 준비물
- PPT 슬라이드 (slides.md)
- 실습 코드 파일 (code.py)
- scipy 라이브러리 설치 확인

### 주의사항
- scipy가 설치 안 됐으면: `pip install scipy`
- 정규분포 가정이 필요함을 설명
- t-검정은 7차시에서 다룰 예정임을 안내

### 예상 질문 및 답변

**Q1: 정규분포가 아닌 데이터는 어떻게 하나요?**
> 로그 변환 등으로 정규분포에 가깝게 만들거나, 비모수 방법을 사용합니다.
> 다만 대부분의 제조 데이터는 중심극한정리에 의해 정규분포에 가깝습니다.
> 표본이 30개 이상이면 크게 걱정 안 해도 됩니다.

**Q2: Z-score와 표준화가 같은 건가요?**
> 네, 맞습니다. 표준화(Standardization)라고도 부르고, Z-score 변환이라고도 합니다.
> 머신러닝에서 데이터 전처리할 때 많이 쓰는 방법이에요.

**Q3: Z-score 기준이 왜 2인가요?**
> 2σ 범위 안에 약 95%의 데이터가 있기 때문입니다.
> |Z| > 2면 상위 또는 하위 2.5%에 해당하므로 이상치로 의심할 수 있어요.
> 더 엄격하게 하려면 |Z| > 3 기준을 사용합니다.

**Q4: 두 그룹을 비교하려면 어떻게 하나요?**
> 다음 7차시에서 t-검정을 배울 예정입니다.
> t-검정은 두 그룹의 평균 차이가 통계적으로 유의미한지 검정하는 방법이에요.

### 시간 배분 체크리스트

| 구간 | 내용 | 시간 | 누적 |
|------|------|------|------|
| 도입 | 복습 및 학습목표 | 2분 | 2분 |
| Part 1 | 정규분포, 68-95-99.7 | 6분 | 8분 |
| Part 2 | Z-score 이상치 탐지 | 7분 | 15분 |
| 실습 | 실습 1~4 | 12분 | 27분 |
| 정리 | 요약 및 Q&A | 3분 | 30분 |
